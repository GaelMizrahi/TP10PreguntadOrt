@using TP10_PreguntadORT.Models
@{
    ViewData["Title"] = "Jugar";

    string username = ViewBag.Username;
    int puntaje = ViewBag.Puntaje;
    int nro = ViewBag.Numero;

    Pregunta pregunta = ViewBag.Pregunta;
    List<Respuesta> respuestas = ViewBag.Respuestas;
}

@if (pregunta == null)
{
    <h2>No hay más preguntas disponibles</h2>
    <p><a href='@Url.Action("ConfigurarJuego","Home")'>Volver a jugar</a></p>
}
else
{
    <h1>PreguntadORT</h1>
    <p>Usuario: <h2>@username</h2></p>
    <p>Puntaje: @puntaje</p>

    <h3>Pregunta @nro</h3>
    <p>@pregunta.Enunciado</p>

    <form method="post" action='@Url.Action("VerificarRespuesta","Home")'>
        <select id="idRespuesta" name="idRespuesta" required>
            <option value="">Seleccioná una respuesta</option>
            @foreach (Respuesta respuesta in respuestas)
            {
                <option value="@respuesta.IdRespuesta">@respuesta.Opcion) @respuesta.Contenido</option>
            }
        </select>

        <input type="hidden" name="idPregunta" value="@pregunta.IdPregunta" />
        
        <button type="submit">Responder</button>
    </form>

    <form method="post" action='@Url.Action("VerificarRespuesta","Home")'>
        <input type="hidden" name="idPregunta" value="@pregunta.IdPregunta" />
        <input type="hidden" name="idRespuesta" value="-1" />
        <button type="submit">Finalizar</button>
    </form>
}
